- refactoro out similar statements into functions
- remove unique pointers in favor of c pointesr
